"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[601],{43601:function(e,t,n){n.d(t,{Nt:function(){return B},Im:function(){return tr},b$:function(){return eU},xA:function(){return ex}});var r=n(59499),a=n(50029),i=n(16835),l=n(87794),o=n.n(l),c=n(67294),u=n(71577),d=n(51042),s=n(95918),f=n(8828),m=n(4730),h=n(5298),p=n(27484),Z=n.n(p),y=n(35944),v=["onFinish","children"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=function(e){var t=e.onFinish,n=e.children,r=(0,m.Z)(e,v),a=(0,c.useCallback)(function(e){var n,r=e.startDate,a=e.endDate,i=e.excludeDates,l=e.includeDates,o=g(g({},e),{},{startDate:r?Z()(r).startOf("day").toDate():void 0,endDate:a?Z()(a).endOf("day").toDate():void 0,excludeDates:i?i.map(function(e){return Z()(e).startOf("day").toDate()}):[],includeDates:l?l.map(function(e){return Z()(e).startOf("day").toDate()}):[],color:"string"==typeof e.color?e.color:e.color.toHexString(),weekDays:null!==(n=e.weekDays)&&void 0!==n?n:[]});null==t||t(o)},[t]);return(0,y.tZ)(h.Z,g(g({name:"schedule-form",layout:"vertical",onFinish:a},r),{},{children:n}))},O=n(75008),x=n(34198),I=n(50978),P=n(32808),j=n(26278),w=[{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6},{label:"Sunday",value:0}],k=[{label:"Play Sound",value:"PlaySound"},{label:"Play Music",value:"PlayMusic"},{label:"Play Voice Recorded",value:"PlayVoiceRecorded"},{label:"Play Text To Audio",value:"PlayTextToAudio"}],Y={name:"1ngktmt",styles:"display:flex;max-width:100%;flex-wrap:wrap;gap:8px"},C=function(){return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"name",label:"Name",rules:[{required:!0}],children:(0,y.tZ)(O.Z,{})}),(0,y.tZ)(h.Z.Item,{name:"color",label:"Color",rules:[{required:!0}],children:(0,y.tZ)(x.Z,{format:"hex",defaultValue:"#000",presets:[{label:"Recommended",colors:["#F5222D","#FA8C16","#FADB14","#8BBB11","#52C41A","#13A8A8","#1677FF","#2F54EB","#722ED1","#EB2F96"]}]})}),(0,y.tZ)(h.Z.Item,{name:"startDate",label:"Effective Date",children:(0,y.tZ)(I.Z,{format:"DD/MM/YYYY"})}),(0,y.tZ)(h.Z.Item,{name:"endDate",label:"Expiration Date",children:(0,y.tZ)(I.Z,{format:"DD/MM/YYYY"})}),(0,y.tZ)(h.Z.Item,{name:"weekDays",label:"Enable on Week Days",children:(0,y.tZ)(P.Z.Group,{css:Y,options:w})}),(0,y.tZ)(h.Z.Item,{name:"includeDates",label:"Enable on Dates",children:(0,y.tZ)(j.ZP,{multiple:!0})}),(0,y.tZ)(h.Z.Item,{name:"excludeDates",label:"Disable on Dates",children:(0,y.tZ)(j.ZP,{multiple:!0})})]})};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B=function(e){var t,n=e.className,r=(0,f.A)(),l=(0,i.Z)(r,2),m=l[0],h=l[1].isLoading,p=(0,c.useState)(!1),Z=p[0],v=p[1],b=(0,c.useCallback)(function(){v(!0)},[]),g=(0,c.useCallback)(function(){v(!1)},[]),O=(0,c.useCallback)((t=(0,a.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=M(M({},t),{},{priority:1}),e.next=3,m({data:n});case 3:"data"in e.sent&&g();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[m,g]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)(u.ZP,{loading:h,className:n,type:"primary",onClick:b,icon:(0,y.tZ)(d.Z,{}),children:"Create Schedule"}),(0,y.tZ)(s.dy,{title:"Create a new schedule",open:Z,onClose:g,destroyOnClose:!0,children:(0,y.BX)(D,{onFinish:O,children:[(0,y.tZ)(C,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:g,disabled:h,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:h,children:"Create"})]})]})})]})},T=n(27812),N=n(51904),A=n(42075),E=n(70149),X=["onFinish","children"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var _=function(e){var t=e.onFinish,n=e.children,r=(0,m.Z)(e,X),a=h.Z.useForm(),l=(0,i.Z)(a,1)[0],o=(0,c.useCallback)(function(e){var n=H({},e);null==t||t(n)},[t]);return(0,y.tZ)(h.Z,H(H({form:l,name:"event-form",layout:"vertical",onFinish:o},r),{},{children:n}))},V=n(68351),z=n(5022),J=n(8473),R=n(56549),q=n(4034),L=function(){var e=(0,q.eW)(void 0).data,t=null==e?void 0:e.map(function(e){return{label:e.name,value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"soundId",label:"Sound Name",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(R.Z,{min:1})})]})},G=function(){var e=(0,f.a9)().data,t=null==e?void 0:e.map(function(e){return{label:e.name,value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"playlistId",label:"Playlist",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(R.Z,{min:1})})]})},W=n(92156),K=function(){var e=(0,W.ks)().data,t=null==e?void 0:e.map(function(e){return{label:e.fileName,value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"voiceId",label:"Voice",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(R.Z,{min:1})})]})},$=function(){var e=(0,f.HH)().data,t=null==e?void 0:e.map(function(e){return{label:e.message.substring(0,100),value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"textToAudioId",label:"Save Message",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(R.Z,{min:1})})]})},Q=function(){var e=function(e){switch(e){case J.JobType.PlaySound:return(0,y.tZ)(L,{});case J.JobType.PlayMusic:return(0,y.tZ)(G,{});case J.JobType.PlayVoiceRecorded:return(0,y.tZ)(K,{});case J.JobType.PlayTextToAudio:return(0,y.tZ)($,{});default:return null}};return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"name",label:"Name",rules:[{required:!0}],children:(0,y.tZ)(O.Z,{})}),(0,y.tZ)(h.Z.Item,{name:"time",label:"Time",rules:[{required:!0}],children:(0,y.tZ)(V.Z,{})}),(0,y.tZ)(h.Z.Item,{name:"jobType",label:"Type",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:k})}),(0,y.tZ)(h.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.jobType!==t.jobType},children:function(t){return e((0,t.getFieldValue)("jobType"))}})]})};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et=function(e){var t,n=e.scheduleId,r=e.className,l=(0,f.ru)(),m=(0,i.Z)(l,2),h=m[0],p=m[1].isLoading,Z=(0,c.useState)(!1),v=Z[0],b=Z[1],g=(0,c.useCallback)(function(){b(!0)},[]),D=(0,c.useCallback)(function(){b(!1)},[]),O=(0,c.useCallback)((t=(0,a.Z)(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(ee({},t),{},{time:t.time.format("HH:mm:ss")}),e.next=3,h({id:n,data:r});case 3:"data"in e.sent&&D();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[h,D,n]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)(u.ZP,{loading:p,className:r,type:"primary",onClick:g,icon:(0,y.tZ)(d.Z,{}),children:"Create Event"}),(0,y.tZ)(s.dy,{title:"Create a new event",open:v,onClose:D,destroyOnClose:!0,children:(0,y.BX)(_,{onFinish:O,children:[(0,y.tZ)(Q,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:D,disabled:p,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:p,children:"Create"})]})]})})]})},en=n(38085),er=n(82241),ea=function(e){var t=e.id,n=e.className,r=(0,f.HH)().data,a=null==r?void 0:r.find(function(e){return e._id===t});return a?(0,y.tZ)("span",{className:n,children:a.message}):null},ei=function(e){var t=e.id,n=e.className,r=(0,W.ks)().data,a=null==r?void 0:r.find(function(e){return e._id===t});return a?(0,y.tZ)("span",{className:n,children:a.fileName}):null},el=n(5737),eo=n(79497),ec=function(e){var t=e.className,n=e.eventId,r=e.scheduleId,a=(0,eo.gV)(),l=(0,i.Z)(a,1)[0];return(0,y.tZ)(el.Z,{className:t,title:"Delete the event",description:"Are you sure to delete this event?",onConfirm:function(){l({id:r,data:{eventId:n}})},okText:"Yes",cancelText:"No",children:(0,y.tZ)("a",{children:"Delete"})})};function eu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ed(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eu(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eu(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var es=function(e){var t,n=e.scheduleId,r=e.event;e.className;var l=(0,c.useState)(!1),d=l[0],f=l[1],m=(0,eo.g6)(),h=(0,i.Z)(m,2),p=h[0],v=h[1].isLoading,b=function(){return f(!1)},g=(t=(0,a.Z)(o().mark(function e(t){var a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=ed(ed({},t),{},{time:t.time.format("HH:mm:ss"),id:r.id}),e.next=3,p({id:n,data:a});case 3:"data"in e.sent&&b();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),D=(0,c.useMemo)(function(){var e,t,n,a,i;return{name:r.name,time:Z()(r.time,"HH:mm:ss"),jobType:r.jobType,soundId:null===(e=r.data)||void 0===e?void 0:e.soundId,durationInSecond:null===(t=r.data)||void 0===t?void 0:t.durationInSecond,playlistId:null===(n=r.data)||void 0===n?void 0:n.playlistId,voiceId:null===(a=r.data)||void 0===a?void 0:a.voiceId,textToAudioId:null===(i=r.data)||void 0===i?void 0:i.textToAudioId}},[r]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)("a",{onClick:function(){return f(!0)},children:"Edit"}),(0,y.tZ)(s.dy,{title:"Edit Event",open:d,onClose:function(){return f(!1)},children:(0,y.BX)(_,{initialValues:D,onFinish:g,children:[(0,y.tZ)(Q,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:b,disabled:v,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:v,children:"Save"})]})]})})]})},ef=function(e){var t=e.className,n=e.events,r=e.titleExtra,a=e.scheduleId;if(!n)return null;var i=(0,T.Z)(n).sort(function(e,t){var n=Z()(Z()().format("YYYY-MM-DD:".concat(e.time))),r=Z()(Z()().format("YYYY-MM-DD:".concat(t.time)));return n<r?-1:n>r?1:0});return(0,y.tZ)(E.Z,{scroll:{x:"max-content"},title:function(){return(0,y.tZ)(A.Z,{children:r})},className:t,columns:[{title:"Name",dataIndex:"name",key:"name",render:function(e){return(0,y.tZ)("span",{children:e})}},{title:"Time",dataIndex:"time",key:"time",render:function(e){return(0,y.tZ)(N.Z,{children:e})}},{title:"Type",dataIndex:"jobType",key:"jobType",render:function(e){return(0,y.tZ)(N.Z,{color:"purple",children:e.replace(/([A-Z])/g," $1").trim()})}},{title:"Info",dataIndex:"data",key:"info",render:function(e){return null!=e&&e.soundId?(0,y.tZ)(en.gH,{soundId:null==e?void 0:e.soundId}):null!=e&&e.playlistId?(0,y.tZ)(er.fG,{playlistId:null==e?void 0:e.playlistId}):null!=e&&e.textToAudioId?(0,y.tZ)(ea,{id:null==e?void 0:e.textToAudioId}):null!=e&&e.voiceId?(0,y.tZ)(ei,{id:null==e?void 0:e.voiceId}):null}},{title:"Duration",dataIndex:"data",key:"duration",render:function(e){return null!=e&&e.durationInSecond?"".concat(null==e?void 0:e.durationInSecond,"s"):"N/A"}},{title:"Actions",key:"actions",render:function(e,t){return(0,y.BX)(A.Z,{size:"middle",children:[(0,y.tZ)(es,{scheduleId:a,event:t}),(0,y.tZ)(ec,{scheduleId:a,eventId:t.id})]})}}],dataSource:i,rowKey:function(e){return e.id}})},em=n(83062),eh=n(47389);function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ey=function(e){e.className;var t,n=e.schedule,r=(0,c.useState)(!1),l=r[0],d=r[1],m=(0,f.X9)(),h=(0,i.Z)(m,2),p=h[0],v=h[1].isLoading,b=function(){return d(!1)},g=(t=(0,a.Z)(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=eZ(eZ({},t),{},{priority:1}),e.next=3,p({id:n._id,data:r});case 3:"data"in e.sent&&b();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),O=(0,c.useMemo)(function(){return{name:n.name,color:n.color,startDate:Z()(n.startDate),endDate:Z()(n.endDate),excludeDates:n.excludeDates.map(function(e){return Z()(e).toDate()}),includeDates:n.includeDates.map(function(e){return Z()(e).toDate()}),weekDays:n.weekDays}},[n]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)(em.Z,{title:"Edit",children:(0,y.tZ)(u.ZP,{shape:"circle",icon:(0,y.tZ)(eh.Z,{}),onClick:function(){return d(!0)}})}),(0,y.tZ)(s.dy,{title:"Edit schedule",open:l,onClose:function(){return d(!1)},children:(0,y.BX)(D,{initialValues:O,onFinish:g,children:[(0,y.tZ)(C,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:b,disabled:v,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:v,children:"Save"})]})]})})]})},ev=n(82061),eb=function(e){var t=e.className,n=e.scheduleId,r=(0,f.Wj)(),a=(0,i.Z)(r,1)[0];return(0,y.tZ)(el.Z,{className:t,title:"Delete the schedule",description:"Are you sure to delete this schedule?",onConfirm:function(){a({id:n,data:void 0})},okText:"Yes",cancelText:"No",children:(0,y.tZ)(em.Z,{title:"Delete",children:(0,y.tZ)(u.ZP,{danger:!0,shape:"circle",icon:(0,y.tZ)(ev.Z,{})})})})},eg=n(85175),eD=function(e){e.className;var t=e.scheduleId,n=(0,f.Lk)(),r=(0,i.Z)(n,1)[0];return(0,y.tZ)(em.Z,{title:"Clone",children:(0,y.tZ)(u.ZP,{shape:"circle",icon:(0,y.tZ)(eg.Z,{}),onClick:function(){r({id:t,data:void 0})}})})},eO=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){var n=t.color;return(0,y.tZ)(N.Z,{color:n,children:e})}},{title:"Effective Date",dataIndex:"startDate",key:"startDate",render:function(e){return(0,y.tZ)("span",{children:Z()(e).format("DD/MM/YYYY")})}},{title:"Expiration Date",dataIndex:"endDate",key:"endDate",render:function(e){return(0,y.tZ)("span",{children:Z()(e).format("DD/MM/YYYY")})}},{title:"Enable on Week Days",dataIndex:"weekDays",key:"weekDays",render:function(e){return e.map(function(e){var t;return(0,y.tZ)(N.Z,{color:"blue",children:null===(t=w.find(function(t){return t.value===e}))||void 0===t?void 0:t.label},e)})}},{title:"Enable on Dates",dataIndex:"includeDates",key:"includeDates",render:function(e){return(0,T.Z)(e).sort(function(e,t){return Z()(e).unix()-Z()(t).unix()}).map(function(e){return(0,y.tZ)(N.Z,{color:"green",children:Z()(e).format("DD/MM/YYYY")},e)})}},{title:"Disable on Dates",dataIndex:"excludeDates",key:"excludeDates",render:function(e){return(0,T.Z)(e).sort(function(e,t){return Z()(e).unix()-Z()(t).unix()}).map(function(e){return(0,y.tZ)(N.Z,{color:"red",children:Z()(e).format("DD/MM/YYYY")},e)})}},{title:"Actions",key:"actions",render:function(e,t){return(0,y.BX)(A.Z,{size:"middle",children:[(0,y.tZ)(ey,{schedule:t}),(0,y.tZ)(eD,{scheduleId:t._id}),(0,y.tZ)(eb,{scheduleId:t._id})]})}}],ex=function(e){var t=e.className,n=e.titleExtra,r=e.visibleColumns,a=(0,f.xV)(void 0),i=a.data,l=a.isLoading,o=eO.filter(function(e){return r.includes(e.key)});return(0,y.tZ)(E.Z,{scroll:{x:"max-content"},title:function(){return(0,y.tZ)(A.Z,{children:n})},className:t,loading:l,columns:o,dataSource:i,rowKey:function(e){return e._id},expandable:{expandedRowRender:function(e){return(0,y.tZ)(ef,{events:e.events,titleExtra:(0,y.tZ)(et,{scheduleId:e._id}),scheduleId:e._id})},defaultExpandedRowKeys:["0"]}})},eI=n(31156),eP=n(89734),ej=n.n(eP),ew=n(53575),ek=n(32983),eY=n(55241),eC=n(27292),eS=["children","onFinish","items","selectedSchedule"],eM=function(e){var t=e.children,n=e.onFinish,r=e.items,a=e.selectedSchedule;return(0,m.Z)(e,eS),(0,y.BX)(h.Z,{name:"change-schedule-form",layout:"vertical",onFinish:function(e){null==n||n(e)},children:[(0,y.tZ)(h.Z.Item,{name:"schedule",label:"Schedule",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{defaultValue:a,style:{width:200},options:r})}),t]})},eB=function(e){e.className;var t,n=e.date,r=e.scheduleId,l=(0,eC.o3)({date:n}).data,d=(0,f.oA)(),m=(0,i.Z)(d,2),h=m[0],p=m[1].isLoading,Z=(0,c.useState)(!1),v=Z[0],b=Z[1],g=l&&l.map(function(e){return{value:e._id,label:e.name}}),D=(t=(0,a.Z)(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={date:n},e.next=3,h({id:t.schedule,data:r});case 3:e.sent,b(!1);case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,y.BX)(y.HY,{children:[!v&&(0,y.tZ)(u.ZP,{type:"primary",block:!0,onClick:function(){b(!0)},children:"Change Schedule"}),v&&(0,y.tZ)(eM,{items:g,onFinish:D,selectedSchedule:r,children:(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:function(){b(!1)},disabled:p,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:p,children:"Save"})]})})]})},eT={name:"shf3a1",styles:"display:flex;max-height:150px;flex-direction:column;gap:0.75rem;overflow-y:auto"},eN={name:"1kzq5ms",styles:"height:100%;width:100%"},eA={name:"5bhc30",styles:"margin-bottom:8px"},eE=function(e){var t,n=e.className,r=e.date,a=e.disabled,i=(0,f.a_)({date:r},{refetchOnMountOrArgChange:!0}).data,l=(0,f.o3)({date:r},{refetchOnMountOrArgChange:!0}).data;return i?(0,y.tZ)(eY.Z,{trigger:"click",className:"CalendarCell-".concat(void 0===n?"":n),content:(0,y.BX)(A.Z,{direction:"vertical",children:[(0,y.tZ)("div",{css:eT,children:i&&(null===(t=i.events)||void 0===t?void 0:t.length)>0?ej()(i.events,"time").map(function(e){return(0,y.tZ)(ew.Z,{color:"blue",text:"".concat(e.time," - ").concat(e.name)},e.id)}):(0,y.tZ)(ek.Z,{description:"No Events"})}),l&&l.length>1&&(0,y.tZ)(eB,{date:r,scheduleId:i?i._id:l[0]._id})]}),children:(0,y.tZ)("div",{css:eN,children:(0,y.tZ)(N.Z,{css:eA,color:a?"default":i.color,children:i.name})})}):null},eX=n(55742),eF=n(37653),eH=n(43929),e_="decrease",eV="increase",ez=[{label:"Month",value:"month"},{label:"Year",value:"year"}],eJ=[{short:"Jan",full:"January",value:0},{short:"Feb",full:"Febuary",value:1},{short:"Mar",full:"March",value:2},{short:"Apr",full:"April",value:3},{short:"May",full:"May",value:4},{short:"Jun",full:"June",value:5},{short:"Jul",full:"July",value:6},{short:"Aug",full:"August",value:7},{short:"Sep",full:"September",value:8},{short:"Oct",full:"October",value:9},{short:"Nov",full:"November",value:10},{short:"Dec",full:"December",value:11}],eR={name:"skgbeu",styles:"display:flex;justify-content:flex-end"},eq={name:"10dk4f3",styles:"margin-right:0.5rem;display:flex;align-items:center"},eL={name:"u7ytkp",styles:"margin-right:0.5rem"},eG={name:"uaob3j",styles:"margin-left:0.5rem"},eW={name:"10dk4f3",styles:"margin-right:0.5rem;display:flex;align-items:center"},eK={name:"u7ytkp",styles:"margin-right:0.5rem"},e$={name:"uaob3j",styles:"margin-left:0.5rem"},eQ=function(e){var t=e.calendarValue,n=e.calendarMode,r=e.hasChangeYearBtn,a=e.hasChangeMonthBtn,l=e.onDateChange,o=e.onModeChange,c=Z()().format("YYYY-MM-DD").split("-"),d=(0,i.Z)(c,3),s=d[0];d[1],d[2];var f=Number(s)-10,m=Number(s)+10,h=Array.from({length:m-f+1},function(e,t){return{label:t+f,value:t+f}}),p=function(e){var n=t.get("year"),r=n;e===e_&&n-1>=f?r=n-1:e===eV&&n+1<=m?r=n+1:e>=f&&e<=m&&(r=e),l(t.set("year",r))},v=function(e){var n=t.get("year"),r=t.get("month"),a=r,i=n;if(e===e_){if(r-1>=0)a=r-1;else if(n>=f)return a=11,i=n-1,l(t.set("month",a).set("year",i))}else if(e===eV){if(r+1<=11)a=r+1;else if(n<=m)return a=0,i=n+1,l(t.set("month",a).set("year",i))}else e>=0&&e<=11&&(a=e);l(t.set("month",a))};return(0,y.BX)("div",{css:eR,children:[(0,y.BX)("div",{css:eq,children:[r&&(0,y.tZ)(u.ZP,{css:eL,size:"small",disabled:t.get("year")===f,onClick:function(){return p(e_)},children:(0,y.tZ)(eF.Z,{})}),(0,y.tZ)(z.Z,{value:t.get("year"),options:h,onChange:p}),r&&(0,y.tZ)(u.ZP,{css:eG,size:"small",disabled:t.get("year")===m,onClick:function(){return p(eV)},children:(0,y.tZ)(eH.Z,{})})]}),(0,y.BX)("div",{css:eW,children:[a&&(0,y.tZ)(u.ZP,{css:eK,size:"small",onClick:function(){return v(e_)},children:(0,y.tZ)(eF.Z,{})}),(0,y.tZ)(z.Z,{value:t.get("month"),onChange:v,children:eJ.map(function(e){return(0,y.tZ)(z.Z.Option,{value:e.value,children:e.short},e.value)})}),a&&(0,y.tZ)(u.ZP,{css:e$,size:"small",onClick:function(){return v(eV)},children:(0,y.tZ)(eH.Z,{})})]}),(0,y.tZ)(eX.ZP.Group,{defaultValue:n,value:n,options:ez,optionType:"button",onChange:function(e){return o(e.target.value)}})]})},eU=function(){var e=(0,c.useState)(Z()()),t=e[0],n=e[1],r=(0,c.useState)("month"),a=r[0],i=r[1],l=function(e){return t.month()!==e.month()};return(0,y.tZ)(eI.Z,{cellRender:function(e,t){return"date"===t.type?(0,y.tZ)(eE,{date:e.format("YYYY-MM-DD"),disabled:l(e)}):t.originNode},value:t,headerRender:function(){return(0,y.tZ)(eQ,{calendarValue:t,calendarMode:a,onDateChange:function(e){return n(e)},onModeChange:function(e){return i(e)},hasChangeYearBtn:!0,hasChangeMonthBtn:!0})},disabledDate:l,mode:a})},e0=n(13179),e1=n(56176),e2=n.n(e1),e5={name:"1jwcxx3",styles:"font-style:italic"},e3={name:"1jwcxx3",styles:"font-style:italic"},e7={name:"1jwcxx3",styles:"font-style:italic"},e4={name:"1jwcxx3",styles:"font-style:italic"},e8=function(e){var t,n,r,a,i=e.className,l=e.event,o=Z()("".concat(Z()().format("YYYY-MM-DD")," ").concat(l.time)).format("HH:mm:ss"),c=null===(t=l.data)||void 0===t?void 0:t.soundId,u=null===(n=l.data)||void 0===n?void 0:n.playlistId,d=null===(r=l.data)||void 0===r?void 0:r.textToAudioId,s=null===(a=l.data)||void 0===a?void 0:a.voiceId;return(0,y.BX)("span",{className:"EventDescription ".concat(void 0===i?"":i),children:[(0,y.BX)("span",{children:[l.name," - Playing "]}),function(){switch(l.jobType){case J.JobType.PlaySound:return c?(0,y.BX)("span",{children:["sound: ",(0,y.tZ)(en.gH,{soundId:c,css:e5})]}):null;case J.JobType.PlayMusic:return u?(0,y.BX)("span",{children:["playlist: ",(0,y.tZ)(en.gH,{soundId:u,css:e3})]}):null;case J.JobType.PlayTextToAudio:return d?(0,y.BX)("span",{children:["message: ",(0,y.tZ)(ea,{id:d,css:e7})]}):null;case J.JobType.PlayVoiceRecorded:return s?(0,y.BX)("span",{children:["voice: ",(0,y.tZ)(ei,{id:s,css:e4})]}):null;default:return null}}(),(0,y.BX)("span",{children:[" at ",o]})]})};Z().extend(e2());var e6=(0,e0.Z)("div",{target:"e8740ez0"})({name:"1mnwyyk",styles:"border-radius:0.5rem;padding:24px; display:flex;flex-direction:column;align-items:center;justify-content:center;"}),e9={name:"1b4lhet",styles:"text-align:center;font-size:24px;font-weight:700;@media (min-width: 768px){font-size:32px;}"},te={name:"10s9dgz",styles:"font-size:32px;font-weight:700;@media (min-width: 768px){font-size:72px;}"},tt={name:"1jq4fo6",styles:"margin-top:16px;display:flex;align-items:center;gap:0.5rem;font-size:16px;font-weight:700;@media (min-width: 768px){font-size:20px;}"},tn={name:"13yok3r",styles:"margin-top:16px;font-size:12px;font-weight:700;@media (min-width: 768px){font-size:16px;}"},tr=function(e){var t=e.className,n=(0,c.useState)(Z()()),r=n[0],a=n[1],i=r.format("YYYY-MM-DD"),l=(0,f.a_)({date:"today"},{refetchOnMountOrArgChange:!0}).data,o=(0,c.useMemo)(function(){return null!=l&&l.events?(0,T.Z)(l.events).sort(function(e,t){var n=Z()("".concat(i," ").concat(e.time)),r=Z()("".concat(i," ").concat(t.time));return n.isBefore(r)?-1:1}):[]},[i,null==l?void 0:l.events]),u=(0,c.useMemo)(function(){return o.find(function(e){return Z()("".concat(i," ").concat(e.time)).isAfter(r)})},[r,i,o]);return(0,c.useEffect)(function(){var e=setInterval(function(){a(Z()())},1e3);return function(){return clearInterval(e)}},[]),(0,y.BX)(e6,{className:t,children:[(0,y.tZ)("div",{css:e9,children:r.format("dddd, MMMM D, YYYY")}),(0,y.tZ)("div",{css:te,children:r.format("HH:mm:ss")}),l&&(0,y.BX)("div",{css:tt,children:[(0,y.tZ)("span",{children:"Schedule: "}),(0,y.tZ)(N.Z,{style:{fontSize:"14px",padding:"4px 12px"},color:l.color,children:l.name})]}),u&&(0,y.tZ)("div",{css:tn,children:(0,y.BX)("span",{children:["Next Event: ",(0,y.tZ)(e8,{event:u})]})})]})}},92156:function(e,t,n){n.d(t,{ks:function(){return l}});var r=n(13306),a=n(21255),i=a.e.injectEndpoints({endpoints:function(e){return{getAllVoicesRecorded:e.query({query:function(){return r.dJ.get("/voice")},providesTags:function(e){return[{type:a.$.VoiceRecord}]}})}}}),l=i.useGetAllVoicesRecordedQuery;i.useLazyGetAllVoicesRecordedQuery,i.endpoints.getAllVoicesRecorded}}]);