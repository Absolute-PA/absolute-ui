"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[951],{7951:function(e,t,n){n.d(t,{Nt:function(){return B},Im:function(){return e6},b$:function(){return e0},xA:function(){return ej}});var r=n(59499),a=n(50029),i=n(16835),l=n(87794),o=n.n(l),c=n(67294),u=n(71577),d=n(51042),s=n(9443),f=n(8828),m=n(4730),h=n(5298),p=n(27484),Z=n.n(p),y=n(35944),v=["onFinish","children"];function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var D=function(e){var t=e.onFinish,n=e.children,r=(0,m.Z)(e,v),a=(0,c.useCallback)(function(e){var n,r=e.startDate,a=e.endDate,i=e.excludeDates,l=e.includeDates,o=g(g({},e),{},{startDate:r?Z()(r).startOf("day").toDate():void 0,endDate:a?Z()(a).endOf("day").toDate():void 0,excludeDates:i?i.map(function(e){return Z()(e).startOf("day").toDate()}):[],includeDates:l?l.map(function(e){return Z()(e).startOf("day").toDate()}):[],color:"string"==typeof e.color?e.color:e.color.toHexString(),weekDays:null!==(n=e.weekDays)&&void 0!==n?n:[]});null==t||t(o)},[t]);return(0,y.tZ)(h.Z,g(g({name:"schedule-form",layout:"vertical",onFinish:a},r),{},{children:n}))},O=n(75008),P=n(34198),j=n(50978),x=n(32808),I=n(26278),w=[{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6},{label:"Sunday",value:0}],k=[{label:"Play Sound",value:"PlaySound"},{label:"Play Music",value:"PlayMusic"},{label:"Play Voice Recorded",value:"PlayVoiceRecorded"},{label:"Play Text To Audio",value:"PlayTextToAudio"}],Y={name:"1ngktmt",styles:"display:flex;max-width:100%;flex-wrap:wrap;gap:8px"},C=function(){return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"name",label:"Name",rules:[{required:!0}],children:(0,y.tZ)(O.Z,{})}),(0,y.tZ)(h.Z.Item,{name:"color",label:"Color",rules:[{required:!0}],children:(0,y.tZ)(P.Z,{format:"hex",defaultValue:"#000",presets:[{label:"Recommended",colors:["#F5222D","#FA8C16","#FADB14","#8BBB11","#52C41A","#13A8A8","#1677FF","#2F54EB","#722ED1","#EB2F96"]}]})}),(0,y.tZ)(h.Z.Item,{name:"startDate",label:"Effective Date",children:(0,y.tZ)(j.Z,{format:"DD/MM/YYYY"})}),(0,y.tZ)(h.Z.Item,{name:"endDate",label:"Expiration Date",children:(0,y.tZ)(j.Z,{format:"DD/MM/YYYY"})}),(0,y.tZ)(h.Z.Item,{name:"weekDays",label:"Enable on Week Days",children:(0,y.tZ)(x.Z.Group,{css:Y,options:w})}),(0,y.tZ)(h.Z.Item,{name:"includeDates",label:"Enable on Dates",children:(0,y.tZ)(I.ZP,{multiple:!0})}),(0,y.tZ)(h.Z.Item,{name:"excludeDates",label:"Disable on Dates",children:(0,y.tZ)(I.ZP,{multiple:!0})})]})};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var B=function(e){var t,n=e.className,r=(0,f.A)(),l=(0,i.Z)(r,2),m=l[0],h=l[1].isLoading,p=(0,c.useState)(!1),Z=p[0],v=p[1],b=(0,c.useCallback)(function(){v(!0)},[]),g=(0,c.useCallback)(function(){v(!1)},[]),O=(0,c.useCallback)((t=(0,a.Z)(o().mark(function e(t){var n;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=M(M({},t),{},{priority:1}),e.next=3,m({data:n});case 3:"data"in e.sent&&g();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[m,g]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)(u.ZP,{loading:h,className:n,type:"primary",onClick:b,icon:(0,y.tZ)(d.Z,{}),children:"Create Schedule"}),(0,y.tZ)(s.dy,{title:"Create a new schedule",open:Z,onClose:g,destroyOnClose:!0,children:(0,y.BX)(D,{onFinish:O,children:[(0,y.tZ)(C,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:g,disabled:h,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:h,children:"Create"})]})]})})]})},T=n(27812),N=n(51904),E=n(42075),A=n(70149),X=["onFinish","children"];function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var V=function(e){var t=e.onFinish,n=e.children,r=(0,m.Z)(e,X),a=h.Z.useForm(),l=(0,i.Z)(a,1)[0],o=(0,c.useCallback)(function(e){var n=H({},e);null==t||t(n)},[t]);return(0,y.tZ)(h.Z,H(H({form:l,name:"event-form",layout:"vertical",onFinish:o},r),{},{children:n}))},_=n(68351),z=n(5022),R=n(8473),q=n(56549),J=n(4034),L=function(){var e=(0,J.eW)(void 0).data,t=null==e?void 0:e.map(function(e){return{label:e.name,value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"soundId",label:"Sound Name",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(q.Z,{min:1})})]})},G=function(){var e=(0,f.a9)().data,t=null==e?void 0:e.map(function(e){return{label:e.name,value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"playlistId",label:"Playlist",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(q.Z,{min:1})})]})},W=n(92156),K=function(){var e=(0,W.ks)().data,t=null==e?void 0:e.map(function(e){return{label:e.fileName,value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"voiceId",label:"Voice",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(q.Z,{min:1})})]})},Q=function(){var e=(0,f.HH)().data,t=null==e?void 0:e.map(function(e){return{label:e.message.substring(0,100),value:e._id}});return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"textToAudioId",label:"Save Message",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:t})}),(0,y.tZ)(h.Z.Item,{name:"durationInSecond",label:"Duration In Seconds",children:(0,y.tZ)(q.Z,{min:1})})]})},$=function(){var e=function(e){switch(e){case R.JobType.PlaySound:return(0,y.tZ)(L,{});case R.JobType.PlayMusic:return(0,y.tZ)(G,{});case R.JobType.PlayVoiceRecorded:return(0,y.tZ)(K,{});case R.JobType.PlayTextToAudio:return(0,y.tZ)(Q,{});default:return null}};return(0,y.BX)(y.HY,{children:[(0,y.tZ)(h.Z.Item,{name:"name",label:"Name",rules:[{required:!0}],children:(0,y.tZ)(O.Z,{})}),(0,y.tZ)(h.Z.Item,{name:"time",label:"Time",rules:[{required:!0}],children:(0,y.tZ)(_.Z,{})}),(0,y.tZ)(h.Z.Item,{name:"jobType",label:"Type",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{options:k})}),(0,y.tZ)(h.Z.Item,{noStyle:!0,shouldUpdate:function(e,t){return e.jobType!==t.jobType},children:function(t){return e((0,t.getFieldValue)("jobType"))}})]})};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var et=function(e){var t,n=e.scheduleId,r=e.className,l=(0,f.ru)(),m=(0,i.Z)(l,2),h=m[0],p=m[1].isLoading,Z=(0,c.useState)(!1),v=Z[0],b=Z[1],g=(0,c.useCallback)(function(){b(!0)},[]),D=(0,c.useCallback)(function(){b(!1)},[]),O=(0,c.useCallback)((t=(0,a.Z)(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=ee(ee({},t),{},{time:t.time.format("HH:mm:ss")}),e.next=3,h({id:n,data:r});case 3:"data"in e.sent&&D();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),[h,D,n]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)(u.ZP,{loading:p,className:r,type:"primary",onClick:g,icon:(0,y.tZ)(d.Z,{}),children:"Create Event"}),(0,y.tZ)(s.dy,{title:"Create a new event",open:v,onClose:D,destroyOnClose:!0,children:(0,y.BX)(V,{onFinish:O,children:[(0,y.tZ)($,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:D,disabled:p,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:p,children:"Create"})]})]})})]})},en=n(39205),er=n(27511),ea=n(45021),ei=n.n(ea),el=n(48403),eo=n.n(el),ec=n(38085),eu=n(82241),ed=["fileName"],es=function(e){e.className;var t=e.data;if(!t)return null;var n=function(e,t){switch(e){case"soundId":return(0,y.tZ)(er.Z.Item,{label:"Sound",children:(0,y.tZ)(ec.gH,{soundId:t},e)},e);case"playlistId":return(0,y.tZ)(er.Z.Item,{label:"Playlist",children:(0,y.tZ)(eu.fG,{playlistId:t},e)},e);default:return(0,y.tZ)(er.Z.Item,{label:e.split(" ").map(function(e){return eo()(ei()(e))}).join(" "),children:t||"N/A"},e)}};return(0,y.tZ)(er.Z,{children:Object.entries(t).filter(function(e){var t=(0,i.Z)(e,1)[0];return!ed.includes(t)}).map(function(e){var t=(0,i.Z)(e,2);return n(t[0],t[1])})})},ef=n(5737),em=n(54882),eh=function(e){var t=e.className,n=e.eventId,r=e.scheduleId,a=(0,em.gV)(),l=(0,i.Z)(a,1)[0];return(0,y.tZ)(ef.Z,{className:t,title:"Delete the event",description:"Are you sure to delete this event?",onConfirm:function(){l({id:r,data:{eventId:n}})},okText:"Yes",cancelText:"No",children:(0,y.tZ)("a",{children:"Delete"})})};function ep(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ep(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ep(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ey=function(e){var t,n=e.scheduleId,r=e.event;e.className;var l=(0,c.useState)(!1),d=l[0],f=l[1],m=(0,em.g6)(),h=(0,i.Z)(m,2),p=h[0],v=h[1].isLoading,b=function(){return f(!1)},g=(t=(0,a.Z)(o().mark(function e(t){var a;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=eZ(eZ({},t),{},{time:t.time.format("HH:mm:ss"),id:r.id}),e.next=3,p({id:n,data:a});case 3:"data"in e.sent&&b();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),D=(0,c.useMemo)(function(){var e,t,n,a,i;return{name:r.name,time:Z()(r.time,"HH:mm:ss"),jobType:r.jobType,soundId:null===(e=r.data)||void 0===e?void 0:e.soundId,durationInSecond:null===(t=r.data)||void 0===t?void 0:t.durationInSecond,playlistId:null===(n=r.data)||void 0===n?void 0:n.playlistId,voiceId:null===(a=r.data)||void 0===a?void 0:a.voiceId,textToAudioId:null===(i=r.data)||void 0===i?void 0:i.textToAudioId}},[r]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)("a",{onClick:function(){return f(!0)},children:"Edit"}),(0,y.tZ)(s.dy,{title:"Edit Event",open:d,onClose:function(){return f(!1)},children:(0,y.BX)(V,{initialValues:D,onFinish:g,children:[(0,y.tZ)($,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:b,disabled:v,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:v,children:"Save"})]})]})})]})};en.Z.Title;var ev=function(e){var t=e.className,n=e.events,r=e.titleExtra,a=e.scheduleId;if(!n)return null;var i=(0,T.Z)(n).sort(function(e,t){var n=Z()(Z()().format("YYYY-MM-DD:".concat(e.time))),r=Z()(Z()().format("YYYY-MM-DD:".concat(t.time)));return n<r?-1:n>r?1:0});return(0,y.tZ)(A.Z,{title:function(){return(0,y.tZ)(E.Z,{children:r})},className:t,columns:[{title:"Name",dataIndex:"name",key:"name",render:function(e){return(0,y.tZ)("span",{children:e})}},{title:"Time",dataIndex:"time",key:"time",render:function(e){return(0,y.tZ)(N.Z,{children:e})}},{title:"Type",dataIndex:"jobType",key:"jobType",render:function(e){return(0,y.tZ)(N.Z,{color:"purple",children:e})}},{title:"Info",dataIndex:"data",key:"data",render:function(e){return(0,y.tZ)(es,{data:e})}},{title:"Actions",key:"actions",render:function(e,t){return(0,y.BX)(E.Z,{size:"middle",children:[(0,y.tZ)(ey,{scheduleId:a,event:t}),(0,y.tZ)(eh,{scheduleId:a,eventId:t.id})]})}}],dataSource:i,rowKey:function(e){return e.id}})};function eb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eb(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eb(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var eD=function(e){e.className;var t,n=e.schedule,r=(0,c.useState)(!1),l=r[0],d=r[1],m=(0,f.X9)(),h=(0,i.Z)(m,2),p=h[0],v=h[1].isLoading,b=function(){return d(!1)},g=(t=(0,a.Z)(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=eg(eg({},t),{},{priority:1}),e.next=3,p({id:n._id,data:r});case 3:"data"in e.sent&&b();case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),O=(0,c.useMemo)(function(){return{name:n.name,color:n.color,startDate:Z()(n.startDate),endDate:Z()(n.endDate),excludeDates:n.excludeDates.map(function(e){return Z()(e).toDate()}),includeDates:n.includeDates.map(function(e){return Z()(e).toDate()}),weekDays:n.weekDays}},[n]);return(0,y.BX)(y.HY,{children:[(0,y.tZ)("a",{onClick:function(){return d(!0)},children:"Edit"}),(0,y.tZ)(s.dy,{title:"Edit schedule",open:l,onClose:function(){return d(!1)},children:(0,y.BX)(D,{initialValues:O,onFinish:g,children:[(0,y.tZ)(C,{}),(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:b,disabled:v,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:v,children:"Save"})]})]})})]})},eO=function(e){var t=e.className,n=e.scheduleId,r=(0,f.Wj)(),a=(0,i.Z)(r,1)[0];return(0,y.tZ)(ef.Z,{className:t,title:"Delete the schedule",description:"Are you sure to delete this schedule?",onConfirm:function(){a({id:n,data:void 0})},okText:"Yes",cancelText:"No",children:(0,y.tZ)("a",{children:"Delete"})})},eP=[{title:"Name",dataIndex:"name",key:"name",render:function(e,t){var n=t.color;return(0,y.tZ)(N.Z,{color:n,children:e})}},{title:"Effective Date",dataIndex:"startDate",key:"startDate",render:function(e){return(0,y.tZ)("span",{children:Z()(e).format("DD/MM/YYYY")})}},{title:"Expiration Date",dataIndex:"endDate",key:"endDate",render:function(e){return(0,y.tZ)("span",{children:Z()(e).format("DD/MM/YYYY")})}},{title:"Enable on Week Days",dataIndex:"weekDays",key:"weekDays",render:function(e){return e.map(function(e){var t;return(0,y.tZ)(N.Z,{color:"blue",children:null===(t=w.find(function(t){return t.value===e}))||void 0===t?void 0:t.label},e)})}},{title:"Enable on Dates",dataIndex:"includeDates",key:"includeDates",render:function(e){return(0,T.Z)(e).sort(function(e,t){return Z()(e).unix()-Z()(t).unix()}).map(function(e){return(0,y.tZ)(N.Z,{color:"green",children:Z()(e).format("DD/MM/YYYY")},e)})}},{title:"Disable on Dates",dataIndex:"excludeDates",key:"excludeDates",render:function(e){return(0,T.Z)(e).sort(function(e,t){return Z()(e).unix()-Z()(t).unix()}).map(function(e){return(0,y.tZ)(N.Z,{color:"red",children:Z()(e).format("DD/MM/YYYY")},e)})}},{title:"Actions",key:"actions",render:function(e,t){return(0,y.BX)(E.Z,{size:"middle",children:[(0,y.tZ)(eD,{schedule:t}),(0,y.tZ)(eO,{scheduleId:t._id})]})}}],ej=function(e){var t=e.className,n=e.titleExtra,r=e.visibleColumns,a=(0,f.xV)(void 0),i=a.data,l=a.isLoading,o=eP.filter(function(e){return r.includes(e.key)});return(0,y.tZ)(A.Z,{title:function(){return(0,y.tZ)(E.Z,{children:n})},className:t,loading:l,columns:o,dataSource:i,rowKey:function(e){return e._id},expandable:{expandedRowRender:function(e){return(0,y.tZ)(ev,{events:e.events,titleExtra:(0,y.tZ)(et,{scheduleId:e._id}),scheduleId:e._id})},defaultExpandedRowKeys:["0"]}})},ex=n(31156),eI=n(89734),ew=n.n(eI),ek=n(53575),eY=n(32983),eC=n(55241),eS=n(27292),eM=["children","onFinish","items","selectedSchedule"],eB=function(e){var t=e.children,n=e.onFinish,r=e.items,a=e.selectedSchedule;return(0,m.Z)(e,eM),(0,y.BX)(h.Z,{name:"change-schedule-form",layout:"vertical",onFinish:function(e){null==n||n(e)},children:[(0,y.tZ)(h.Z.Item,{name:"schedule",label:"Schedule",rules:[{required:!0}],children:(0,y.tZ)(z.Z,{defaultValue:a,style:{width:200},options:r})}),t]})},eT=function(e){e.className;var t,n=e.date,r=e.scheduleId,l=(0,eS.o3)({date:n}).data,d=(0,f.oA)(),m=(0,i.Z)(d,2),h=m[0],p=m[1].isLoading,Z=(0,c.useState)(!1),v=Z[0],b=Z[1],g=l&&l.map(function(e){return{value:e._id,label:e.name}}),D=(t=(0,a.Z)(o().mark(function e(t){var r;return o().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={date:n},e.next=3,h({id:t.schedule,data:r});case 3:e.sent,b(!1);case 5:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,y.BX)(y.HY,{children:[!v&&(0,y.tZ)(u.ZP,{type:"primary",block:!0,onClick:function(){b(!0)},children:"Change Schedule"}),v&&(0,y.tZ)(eB,{items:g,onFinish:D,selectedSchedule:r,children:(0,y.BX)(s.dy.FooterActions,{children:[(0,y.tZ)(u.ZP,{onClick:function(){b(!1)},disabled:p,children:"Cancel"}),(0,y.tZ)(u.ZP,{type:"primary",htmlType:"submit",loading:p,children:"Save"})]})})]})},eN={name:"shf3a1",styles:"display:flex;max-height:150px;flex-direction:column;gap:0.75rem;overflow-y:auto"},eE={name:"1kzq5ms",styles:"height:100%;width:100%"},eA={name:"5bhc30",styles:"margin-bottom:8px"},eX=function(e){var t,n=e.className,r=e.date,a=e.disabled,i=(0,f.a_)({date:r},{refetchOnMountOrArgChange:!0}).data,l=(0,f.o3)({date:r},{refetchOnMountOrArgChange:!0}).data;return i?(0,y.tZ)(eC.Z,{trigger:"click",className:"CalendarCell-".concat(void 0===n?"":n),content:(0,y.BX)(E.Z,{direction:"vertical",children:[(0,y.tZ)("div",{css:eN,children:i&&(null===(t=i.events)||void 0===t?void 0:t.length)>0?ew()(i.events,"time").map(function(e){return(0,y.tZ)(ek.Z,{color:"blue",text:"".concat(e.time," - ").concat(e.name)},e.id)}):(0,y.tZ)(eY.Z,{description:"No Events"})}),l&&l.length>1&&(0,y.tZ)(eT,{date:r,scheduleId:i?i._id:l[0]._id})]}),children:(0,y.tZ)("div",{css:eE,children:(0,y.tZ)(N.Z,{css:eA,color:a?"default":i.color,children:i.name})})}):null},eF=n(55742),eH=n(37653),eV=n(43929),e_="decrease",ez="increase",eR=[{label:"Month",value:"month"},{label:"Year",value:"year"}],eq=[{short:"Jan",full:"January",value:0},{short:"Feb",full:"Febuary",value:1},{short:"Mar",full:"March",value:2},{short:"Apr",full:"April",value:3},{short:"May",full:"May",value:4},{short:"Jun",full:"June",value:5},{short:"Jul",full:"July",value:6},{short:"Aug",full:"August",value:7},{short:"Sep",full:"September",value:8},{short:"Oct",full:"October",value:9},{short:"Nov",full:"November",value:10},{short:"Dec",full:"December",value:11}],eJ={name:"skgbeu",styles:"display:flex;justify-content:flex-end"},eL={name:"10dk4f3",styles:"margin-right:0.5rem;display:flex;align-items:center"},eG={name:"u7ytkp",styles:"margin-right:0.5rem"},eW={name:"uaob3j",styles:"margin-left:0.5rem"},eK={name:"10dk4f3",styles:"margin-right:0.5rem;display:flex;align-items:center"},eQ={name:"u7ytkp",styles:"margin-right:0.5rem"},e$={name:"uaob3j",styles:"margin-left:0.5rem"},eU=function(e){var t=e.calendarValue,n=e.calendarMode,r=e.hasChangeYearBtn,a=e.hasChangeMonthBtn,l=e.onDateChange,o=e.onModeChange,c=Z()().format("YYYY-MM-DD").split("-"),d=(0,i.Z)(c,3),s=d[0];d[1],d[2];var f=Number(s)-10,m=Number(s)+10,h=Array.from({length:m-f+1},function(e,t){return{label:t+f,value:t+f}}),p=function(e){var n=t.get("year"),r=n;e===e_&&n-1>=f?r=n-1:e===ez&&n+1<=m?r=n+1:e>=f&&e<=m&&(r=e),l(t.set("year",r))},v=function(e){var n=t.get("year"),r=t.get("month"),a=r,i=n;if(e===e_){if(r-1>=0)a=r-1;else if(n>=f)return a=11,i=n-1,l(t.set("month",a).set("year",i))}else if(e===ez){if(r+1<=11)a=r+1;else if(n<=m)return a=0,i=n+1,l(t.set("month",a).set("year",i))}else e>=0&&e<=11&&(a=e);l(t.set("month",a))};return(0,y.BX)("div",{css:eJ,children:[(0,y.BX)("div",{css:eL,children:[r&&(0,y.tZ)(u.ZP,{css:eG,size:"small",disabled:t.get("year")===f,onClick:function(){return p(e_)},children:(0,y.tZ)(eH.Z,{})}),(0,y.tZ)(z.Z,{value:t.get("year"),options:h,onChange:p}),r&&(0,y.tZ)(u.ZP,{css:eW,size:"small",disabled:t.get("year")===m,onClick:function(){return p(ez)},children:(0,y.tZ)(eV.Z,{})})]}),(0,y.BX)("div",{css:eK,children:[a&&(0,y.tZ)(u.ZP,{css:eQ,size:"small",onClick:function(){return v(e_)},children:(0,y.tZ)(eH.Z,{})}),(0,y.tZ)(z.Z,{value:t.get("month"),onChange:v,children:eq.map(function(e){return(0,y.tZ)(z.Z.Option,{value:e.value,children:e.short},e.value)})}),a&&(0,y.tZ)(u.ZP,{css:e$,size:"small",onClick:function(){return v(ez)},children:(0,y.tZ)(eV.Z,{})})]}),(0,y.tZ)(eF.ZP.Group,{defaultValue:n,value:n,options:eR,optionType:"button",onChange:function(e){return o(e.target.value)}})]})},e0=function(){var e=(0,c.useState)(Z()()),t=e[0],n=e[1],r=(0,c.useState)("month"),a=r[0],i=r[1],l=function(e){return t.month()!==e.month()};return(0,y.tZ)(ex.Z,{cellRender:function(e,t){return"date"===t.type?(0,y.tZ)(eX,{date:e.format("YYYY-MM-DD"),disabled:l(e)}):t.originNode},value:t,headerRender:function(){return(0,y.tZ)(eU,{calendarValue:t,calendarMode:a,onDateChange:function(e){return n(e)},onModeChange:function(e){return i(e)},hasChangeYearBtn:!0,hasChangeMonthBtn:!0})},disabledDate:l,mode:a})},e1=n(13179),e2=n(56176),e5=n.n(e2),e3=function(e){var t,n,r=e.className,a=e.event,i=Z()("".concat(Z()().format("YYYY-MM-DD")," ").concat(a.time)).format("LTS"),l=null===(t=a.data)||void 0===t?void 0:t.soundId,o=null===(n=a.data)||void 0===n?void 0:n.playlistId;return(0,y.BX)("span",{className:"EventDescription ".concat(void 0===r?"":r),children:[(0,y.BX)("span",{children:[a.name," - "]}),R.JobType.PlaySound===a.jobType&&l&&(0,y.BX)("span",{children:["Playing ",(0,y.tZ)(ec.gH,{soundId:l})," sound at ",i]}),R.JobType.PlayMusic===a.jobType&&o&&(0,y.BX)("span",{children:["Playing ",(0,y.tZ)(ec.gH,{soundId:o})," playlist at ",i]})]})};Z().extend(e5());var e7=(0,e1.Z)("div",{target:"e8740ez0"})({name:"1mnwyyk",styles:"border-radius:0.5rem;padding:24px; display:flex;flex-direction:column;align-items:center;justify-content:center;"}),e4={name:"1b4lhet",styles:"text-align:center;font-size:24px;font-weight:700;@media (min-width: 768px){font-size:32px;}"},e8={name:"10s9dgz",styles:"font-size:32px;font-weight:700;@media (min-width: 768px){font-size:72px;}"},e9={name:"13yok3r",styles:"margin-top:16px;font-size:12px;font-weight:700;@media (min-width: 768px){font-size:16px;}"},e6=function(e){var t=e.className,n=(0,c.useState)(Z()()),r=n[0],a=n[1],i=r.format("YYYY-MM-DD"),l=(0,f.a_)({date:"today"},{refetchOnMountOrArgChange:!0}).data,o=(0,c.useMemo)(function(){return null!=l&&l.events?(0,T.Z)(l.events).sort(function(e,t){var n=Z()("".concat(i," ").concat(e.time)),r=Z()("".concat(i," ").concat(t.time));return n.isBefore(r)?-1:1}):[]},[i,null==l?void 0:l.events]),u=(0,c.useMemo)(function(){return o.find(function(e){return Z()("".concat(i," ").concat(e.time)).isAfter(r)})},[r,i,o]);return(0,c.useEffect)(function(){var e=setInterval(function(){a(Z()())},1e3);return function(){return clearInterval(e)}},[]),(0,y.BX)(e7,{className:t,children:[(0,y.tZ)("div",{css:e4,children:r.format("dddd, MMMM D, YYYY")}),(0,y.tZ)("div",{css:e8,children:r.format("HH:mm:ss")}),u&&(0,y.tZ)("div",{css:e9,children:(0,y.BX)("span",{children:["Next Event: ",(0,y.tZ)(e3,{event:u})]})})]})}},92156:function(e,t,n){n.d(t,{ks:function(){return l}});var r=n(13306),a=n(21255),i=a.e.injectEndpoints({endpoints:function(e){return{getAllVoicesRecorded:e.query({query:function(){return r.dJ.get("/voice")},providesTags:function(e){return[{type:a.$.VoiceRecord}]}})}}}),l=i.useGetAllVoicesRecordedQuery;i.useLazyGetAllVoicesRecordedQuery,i.endpoints.getAllVoicesRecorded}}]);